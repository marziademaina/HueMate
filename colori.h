#ifndef COLORI_H
#define COLORI_H

// Struttura per definire un colore
struct Colore {
  String nome;
  uint16_t r_min, r_max;
  uint16_t g_min, g_max;
  uint16_t b_min, b_max;
};

// Database dei colori con range RGB
const Colore colori[] = {
  {"Acquamarina",             127, 255, 212,     "", ""},
  {"Albicocca",               251, 206, 177,     "", ""},
  {"Amaranto",                229, 43, 80,       "", ""},
  {"Ambra",                   255, 191, 0,       "", ""},
  {"Ametista",                153, 102, 204,     "", ""},
  {"Anguria",                 252, 108, 133,     "", ""},
  {"Antracite",               41, 49, 51,        "", ""},
  {"Aragosta",                237, 116, 101,     "", ""},
  {"Arancione",               255, 165, 0,       "", ""},
  {"Ardesia",                 112, 128, 144,     "", ""},
  {"Argento",                 191, 192, 192,     "", ""},
  {"Asparago",                135, 169, 107,     "", ""},
  {"Avio",                    93, 138, 168,      "", ""},
  {"Avorio",                  255, 255, 240,     "", ""},
  {"Azalaea",                 211, 48, 93,       "", ""},
  {"Azzurro",                 0, 127, 255,       "", ""},
  {"Azzurro fiordaliso",      171, 205, 239,     "", ""},
  {"Beige",                   245, 245, 220,     "", ""},
  {"Beige-oliva chiaro",      144, 132, 53,      "", ""},
  {"Beige verdastro",         190, 189, 127,     "", ""},
  {"Bianco",                  255, 255, 255,     "", ""},
  {"Bianco antico",           250, 235, 215,     "", ""},
  {"Bianco floreale",         255, 250, 240,     "", ""},
  {"Bianco fumo",             245, 245, 245,     "", ""},
  {"Biscotto",                255, 228, 196,     "", ""},
  {"Blu",                     0, 0, 255,         "", ""},
  {"Blu elettrico",           0, 51, 153,        "", ""},
  {"Blu marino",              0, 0, 128,         "", ""},
  {"Blu notte",               25, 25, 112,       "", ""},
  {"Blu oltremare",           18, 10, 143,       "", ""},
  {"Blu scuro",               0, 0, 139,         "", ""},
  {"Bordeaux",                128, 0, 0,         "", ""},
  {"Borgogna",                128, 0, 32,        "", ""},
  {"Bronzo",                  205, 127, 50,      "", ""},
  {"Bronzo antico",           117, 102, 63,      "", ""},
  {"Camoscio",                240, 220, 130,     "", ""},
  {"Carbone",                 5, 4, 2,           "", ""},
  {"Carminio",                150, 0, 24,        "", ""},
  {"Carta da zucchero",       224, 255, 255,     "", ""},
  {"Castagno",                205, 92, 92,       "", ""},
  {"Castagno scuro",          152, 105, 96,      "", ""},
  {"Celadon",                 172, 225, 175,     "", ""},
  {"Celeste",                 153, 203, 255,     "", ""},
  {"Ceruleo",                 0, 123, 167,       "", ""},
  // {"Ciano",                   0, 255, 255,       "", ""},
  // {"Ciliegia",                194, 0, 50,        "", ""},  
  // {"Cobalto",                 0, 71, 171,        "", ""},
  // {"Conchiglia",              255, 245, 238,     "", ""},
  // {"Corallo",                 255, 127, 80,      "", ""},
  // {"Crema",                   255, 253, 208,     "", ""},
  // {"Denim",                   21, 96, 189,       "", ""},
  // {"Denim chiaro",            94, 134, 193,      "", ""},
  // {"Écru",                    194, 178, 255,     "", ""},
  // {"Fiore di granturco",      100, 149, 237,     "", ""},
  // {"Fiore di pesco",          255, 179, 186,     "", ""},
  // {"Foglia di tè",            0, 128, 128,       "", ""},
  // {"Fucsia",                  244, 0, 161,       "", ""},
  // {"Giada",                   0, 168, 107,       "", ""},
  // {"Giallo",                  255, 255, 0,       "", ""},
  // {"Giallo miele",            169, 131, 7,       "", ""},
  // {"Giallo pastello",         255, 255, 102,     "", ""},
  // {"Giallo sabbia",           198, 166, 100,     "", ""},
  // {"Giallo scuolabus",        255, 216, 0,       "", ""},
  // {"Glicine",                 201, 160, 220,     "", ""},
  // {"Granata",                 123, 27, 2,        "", ""},
  // {"Grano",                   245, 222, 179,     "", ""},
  // {"Grigio 5%",               247, 247, 247,     "", ""},
  // {"Grigio 10%",              239, 239, 239,     "", ""},
  // {"Grigio 15%",              225, 225, 225,     "", ""},
  // {"Grigio 20%",              210, 210, 210,     "", ""},
  // {"Grigio 25%",              192, 192, 192,     "", ""},
  // {"Grigio 30%",              178, 178, 178,     "", ""},
  // {"Grigio 35%",              162, 162, 162,     "", ""},
  // {"Grigio 40%",              147, 170, 147,     "", ""},
  // {"Grigio 50%",              128, 128, 128,     "", ""},
  // {"Grigio 60%",              95, 95, 95,        "", ""},
  // {"Grigio 70%",              79, 79, 79,        "", ""},
  // {"Grigio 75%",              64, 64, 64,        "", ""},
  // {"Grigio 80%",              47, 47, 47,        "", ""},  
  // {"Grigio topo",             100, 107, 99,      "", ""},
  // {"Indaco",                  75, 0, 130,        "", ""},
  // {"Indaco scuro",            49, 0, 98,         "", ""},
  // {"Kaki",                    195, 176, 145,     "", ""},
  // {"Kaki chiaro",             240, 230, 140,     "", ""},
  // {"Kaki scuro",              189, 183, 107,     "", ""},
  // {"Lampone",                 227, 11, 92,       "", ""},
  // {"Lavanda",                 230, 230, 250,     "", ""},
  // {"Lilla",                   200, 162, 200,     "", ""},
  // {"Lime",                    204, 255, 0,       "", ""},
  // {"Limone",                  253, 233, 16,      "", ""},
  // {"Limone crema",            255, 250, 205,     "", ""},
  // {"Magenta",                 255, 0, 255,       "", ""},
  // {"Magnolia",                248, 244, 255,     "", ""},
  // {"Malva",                   224, 176, 255,     "", ""},
  // {"Mandarino",               255, 204, 0,       "", ""},
  // {"Marrone",                 150, 75, 0,        "", ""},
  // {"Marrone chiaro",          205, 133, 63,      "", ""},
  // {"Marrone pastello",        152, 118, 84,      "", ""},
  // {"Marrone scuro",           101, 67, 33,       "", ""},
  // {"Melanzana",               153, 0, 102,       "", ""},
  // {"Mogano",                  192, 64, 0,        "", ""},   
  // {"Nero",                    0, 0, 0,           "", ""},
  // {"Ocra",                    204, 119, 34,      "", ""},
  // {"Orchidea",                218, 112, 214,     "", ""},
  // {"Oro",                     255, 215, 0,       "", ""},
  // {"Ottanio",                 0, 40, 36,         "", ""},
  // {"Pera",                    209, 226, 49,      "", ""},
  // {"Pesca",                   255, 229, 180,     "", ""},
  // {"Pesca arancio",           255, 204, 153,     "", ""},
  // {"Pesca scuro",             255, 218, 185,     "", ""},
  // {"Pistacchio",              147, 197, 114,     "", ""},
  // {"Platino",                 229, 228, 226,     "", ""},
  // {"Porpora",                 1778, 0, 0,        "", ""},
  // {"Prugna",                  102, 0, 102 ,      "", ""},
  // {"Rame",                    184, 115, 51,      "", ""},
  // {"Rosa",                    255, 192, 203,     "", ""},
  // {"Rosa arancio",            255, 153, 102,     "", ""},
  // {"Rosa pastello",           255, 209, 220,     "", ""},  
  // {"Rosa scuro",              231, 84, 128,      "", ""},
  // {"Rosa shocking",           252, 0, 127 ,      "", ""},
  // {"Rosso",                   255, 0, 0,         "", ""},
  // {"Rosso cardinale",         196, 30, 58,       "", ""},
  // {"Rosso fragola",           206, 48, 24,       "", ""},
  // {"Rosso fuoco",             166, 16, 34,       "", ""},
  // {"Rosso mattone",           178, 34, 34,       "", ""},
  // {"Rosso Tiziano",           186, 98, 98,       "", ""},
  // {"Rubino",                  183, 39, 85,       "", ""},
  // {"Sabbia",                  244, 164, 96,      "", ""},
  // {"Salmone",                 255, 140, 105,     "", ""},
  // {"Sangria",                 146, 0, 10,        "", ""},
  // {"Scarlatto",               255, 36, 0,        "", ""},
  // {"Senape",                  255, 219, 88,      "", ""},
  // {"Seppia",                  112, 66, 20,       "", ""},
  // {"Solidago",                218, 165, 32,      "", ""},
  // {"Terra d'ombra",           99, 81, 71,        "", ""},
  // {"Terra d'ombra bruciata",  138, 51, 36,       "", ""},
  // {"Testa di moro",           117, 73, 9,        "", ""},
  // {"Tè verde",                208, 240, 192,     "", ""},
  // {"Tronco",                  121, 68, 59,       "", ""},
  // {"Turchese",                48, 213, 200,      "", ""},
  // {"Turchese chiaro",         8, 232, 222,       "", ""},
  // {"Turchese pallido",        153, 255, 204,     "", ""},
  // {"Turchese scuro",          17, 96, 98,        "", ""},
  // {"Verde",                   0, 255, 0,         "", ""},   
  // {"Verde foresta",           34, 139, 34,       "", ""},
  // {"Verde-giallo",            173, 255, 0,       "", ""},
  // {"Verde menta",             152, 255, 152,     "", ""},
  // {"Verde oliva",             128, 128, 0,       "", ""},
  // {"Verde pastello",          119, 221, 119,     "", ""},
  // {"Verde pino",              1, 121, 111,       "", ""},
  // {"Verde smeraldo",          80, 200, 120,      "", ""},
  // {"Vermiglio",               255, 77, 0,        "", ""},
  // {"Viola",                   128, 0, 128,       "", ""},
  // {"Violetto",                128, 0, 255,       "", ""},
  // {"Vinaccia",                192, 0, 127,       "", ""},
  // {"Zafferano",               244, 196, 48,      "", ""},
  // {"Zaffiro",                 15, 82, 186,       "", ""}
};

const int NUM_COLORI = sizeof(colori) / sizeof(colori[0]);

// Funzione per trovare il colore più vicino
String trovaColore(uint16_t r, uint16_t g, uint16_t b) {
  for (int i = 0; i < NUM_COLORI; i++) {
    if (r >= colori[i].r_min && r <= colori[i].r_max &&
        g >= colori[i].g_min && g <= colori[i].g_max &&
        b >= colori[i].b_min && b <= colori[i].b_max) {
      return colori[i].nome;
    }
  }
  return "Sconosciuto";
}

#endif